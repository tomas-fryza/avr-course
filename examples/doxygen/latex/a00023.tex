\hypertarget{a00023}{}\doxysubsection{twi.\+h File Reference}
\label{a00023}\index{twi.h@{twi.h}}
{\ttfamily \#include $<$avr/io.\+h$>$}\newline
Include dependency graph for twi.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=133pt]{a00024}
\end{center}
\end{figure}
\doxysubsubsection*{Macros}
\begin{Indent}\textbf{ Definition of frequencies}\par
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{a00046_ga43bafb28b29491ec7f871319b5a3b2f8}{F\+\_\+\+CPU}}~16000000
\begin{DoxyCompactList}\small\item\em CPU frequency in Hz required TWI\+\_\+\+BIT\+\_\+\+RATE\+\_\+\+REG. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_ga7a1c522bed64982971384489ee477bd3}{F\+\_\+\+SCL}}~50000
\begin{DoxyCompactList}\small\item\em I2\+C/\+TWI bit rate. Must be greater than 31000. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_ga801c158406ca2334b446e442a2debe37}{TWI\+\_\+\+BIT\+\_\+\+RATE\+\_\+\+REG}}~((\mbox{\hyperlink{a00046_ga43bafb28b29491ec7f871319b5a3b2f8}{F\+\_\+\+CPU}}/\mbox{\hyperlink{a00046_ga7a1c522bed64982971384489ee477bd3}{F\+\_\+\+SCL}} -\/ 16) / 2)
\begin{DoxyCompactList}\small\item\em TWI bit rate register value. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Definition of ports and pins}\par
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{a00046_ga762c164f4acd04d3ce3627fe73e7c018}{TWI\+\_\+\+PORT}}~PORTC
\begin{DoxyCompactList}\small\item\em Port of TWI unit. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_ga3f14ed8491293d0dda1372cceaa39851}{TWI\+\_\+\+SDA\+\_\+\+PIN}}~4
\begin{DoxyCompactList}\small\item\em SDA pin of TWI unit. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_gac0ad8b33f1be48e211f1eeae2dd65cee}{TWI\+\_\+\+SCL\+\_\+\+PIN}}~5
\begin{DoxyCompactList}\small\item\em SCL pin of TWI unit. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\doxysubsubsection*{Other definitions}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{a00046_ga3b68e8e777b71520f9dbfac733774d5f}{TWI\+\_\+\+WRITE}}~0
\begin{DoxyCompactList}\small\item\em Mode for writing to I2\+C/\+TWI device. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_gaaf9a8abccd811954f9cc316f2b2f87b3}{TWI\+\_\+\+READ}}~1
\begin{DoxyCompactList}\small\item\em Mode for reading from I2\+C/\+TWI device. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_ga00dcb08e2effea903c22763e0aeeb3cb}{TWI\+\_\+\+ACK}}~0
\begin{DoxyCompactList}\small\item\em ACK value for writing to I2\+C/\+TWI bus. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_gaaf28e960d6d1c0553791faf52ebd8ef6}{TWI\+\_\+\+NACK}}~1
\begin{DoxyCompactList}\small\item\em NACK value for writing to I2\+C/\+TWI bus. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_ga6c0346728feb274834cad94daca316ee}{DDR}}(\+\_\+x)~($\ast$(\&\+\_\+x -\/ 1))
\begin{DoxyCompactList}\small\item\em Address of Data Direction Register of port \+\_\+x. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{a00046_ga740f9eb9c9f9e33500ee61ec53945f6a}{PIN}}(\+\_\+x)~($\ast$(\&\+\_\+x -\/ 2))
\begin{DoxyCompactList}\small\item\em Address of input register of port \+\_\+x. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{a00046_ga16f0e6b2fa5a26eadbf4086ab6d54467}{twi\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize TWI unit, enable internal pull-\/ups, and set SCL frequency. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{a00046_gaf37269da7f6b1b22438b78d2f965f274}{twi\+\_\+start}} (void)
\begin{DoxyCompactList}\small\item\em Start communication on I2\+C/\+TWI bus. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{a00046_ga129b8a79f75189c3801cb7082e6b8340}{twi\+\_\+write}} (uint8\+\_\+t data)
\begin{DoxyCompactList}\small\item\em Send one byte to I2\+C/\+TWI Slave device. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{a00046_gae9f84b771b4acdedd2106e91cb03cc78}{twi\+\_\+read}} (uint8\+\_\+t ack)
\begin{DoxyCompactList}\small\item\em Read one byte from I2\+C/\+TWI Slave device and acknowledge it by ACK or NACK. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{a00046_gacf52d6c93df110dee6d402b389e5042e}{twi\+\_\+stop}} (void)
\begin{DoxyCompactList}\small\item\em Generates Stop condition on I2\+C/\+TWI bus. \end{DoxyCompactList}\end{DoxyCompactItemize}
